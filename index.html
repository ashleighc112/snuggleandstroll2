<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Snuggle & Stroll - Pet Sitting & Dog Walking</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<style>
:root {
  --brown: #5b3b2a;
  --yellow: #f7d87c;
  --green: #3f6b4a;
  --teal: #1fa7a1;
  --cream: #faf5ec;
  --text: #2b241f;
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  color: var(--text);
  background: var(--cream);
  line-height: 1.6;
}

/* HEADER */
header {
  background: linear-gradient(90deg, var(--brown), var(--green));
  color: #fff;
  padding: 0.6rem 6vw;
  display: flex;
  align-items: center;
  justify-content: space-between;
  position: sticky;
  top: 0;
  z-index: 20;
}

.logo {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.logo-icon {
  width: 40px;
  height: 40px;
  border-radius: 999px;
  background: var(--yellow);
  position: relative;
  overflow: hidden;
}

.logo-text-main {
  font-weight: 700;
  letter-spacing: 0.03em;
  font-size: 1.1rem;
}

nav a {
  color: #fff;
  text-decoration: none;
  margin-left: 1.2rem;
  font-size: 0.95rem;
  position: relative;
}

nav a::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: -4px;
  width: 0;
  height: 2px;
  background: var(--yellow);
  transition: width 0.2s ease;
}

nav a:hover::after {
  width: 100%;
}

/* HERO */
.hero {
  position: relative;
  height: 70vh;
  min-height: 420px;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #fff;
}

.hero video {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  filter: brightness(0.7);
}

.hero-overlay {
  position: relative;
  z-index: 2;
  text-align: center;
  padding: 0 8vw;
}

.hero-title {
  font-size: clamp(2.4rem, 4vw, 3.4rem);
  font-weight: 800;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  margin-bottom: 0.6rem;
}

.hero-subtitle {
  font-size: 1.05rem;
  max-width: 32rem;
  margin: 0 auto 1.5rem;
}

.hero-buttons {
  display: flex;
  justify-content: center;
  gap: 0.75rem;
  flex-wrap: wrap;
}

.btn {
  display: inline-block;
  padding: 0.7rem 1.4rem;
  border-radius: 999px;
  border: none;
  cursor: pointer;
  font-size: 0.95rem;
  text-decoration: none;
  transition: transform 0.1s ease, box-shadow 0.1s ease, background 0.2s ease;
  white-space: nowrap;
}

.btn-primary {
  background: var(--yellow);
  color: var(--brown);
  box-shadow: 0 8px 18px rgba(0,0,0,0.25);
}

.btn-outline {
  background: transparent;
  color: #fff;
  border: 1px solid #fff;
}

/* QUESTIONNAIRE SECTION ‚Äî GREEN ‚Üí TEAL GRADIENT */
#pet-concierge {
  padding: 2rem;
  margin-top: 2rem;
  background: linear-gradient(to bottom, var(--green), var(--teal));
  color: white;
  border-radius: 1rem;
}

#pet-concierge h2 {
  color: white;
  margin-bottom: 1rem;
}

#pet-concierge form label {
  display: block;
  margin: 0.7rem 0;
}

#pet-concierge input,
#pet-concierge select,
#pet-concierge textarea {
  width: 100%;
  padding: 0.6rem;
  border-radius: 0.4rem;
  border: none;
  margin-top: 0.3rem;
}

#pet-concierge button {
  background: var(--yellow);
  color: var(--brown);
  padding: 0.8rem 1.4rem;
  border-radius: 0.5rem;
  border: none;
  cursor: pointer;
  margin-top: 1rem;
}

#results {
  background: white;
  color: var(--text);
  padding: 1rem;
  border-radius: 0.7rem;
  margin-top: 1.5rem;
}
  <style>
:root {
  --brown: #5b3b2a;
  --yellow: #f7d87c;
  --green: #3f6b4a;
  --teal: #1fa7a1;
  --cream: #faf5ec;
  --text: #2b241f;
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  color: var(--text);
  background: var(--cream);
  line-height: 1.6;
}

/* HEADER */
header {
  background: linear-gradient(90deg, var(--brown), var(--green));
  color: #fff;
  padding: 0.6rem 6vw;
  display: flex;
  align-items: center;
  justify-content: space-between;
  position: sticky;
  top: 0;
  z-index: 20;
}

.logo {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.logo-icon {
  width: 40px;
  height: 40px;
  border-radius: 999px;
  background: var(--yellow);
  position: relative;
  overflow: hidden;
}

.logo-text-main {
  font-weight: 700;
  letter-spacing: 0.03em;
  font-size: 1.1rem;
}

nav a {
  color: #fff;
  text-decoration: none;
  margin-left: 1.2rem;
  font-size: 0.95rem;
  position: relative;
}

nav a::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: -4px;
  width: 0;
  height: 2px;
  background: var(--yellow);
  transition: width 0.2s ease;
}

nav a:hover::after {
  width: 100%;
}

/* HERO */
.hero {
  position: relative;
  height: 70vh;
  min-height: 420px;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #fff;
}

.hero video {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  filter: brightness(0.7);
}

.hero-overlay {
  position: relative;
  z-index: 2;
  text-align: center;
  padding: 0 8vw;
}

.hero-title {
  font-size: clamp(2.4rem, 4vw, 3.4rem);
  font-weight: 800;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  margin-bottom: 0.6rem;
}

.hero-subtitle {
  font-size: 1.05rem;
  max-width: 32rem;
  margin: 0 auto 1.5rem;
}

.hero-buttons {
  display: flex;
  justify-content: center;
  gap: 0.75rem;
  flex-wrap: wrap;
}

.btn {
  display: inline-block;
  padding: 0.7rem 1.4rem;
  border-radius: 999px;
  border: none;
  cursor: pointer;
  font-size: 0.95rem;
  text-decoration: none;
  transition: transform 0.1s ease, box-shadow 0.1s ease, background 0.2s ease;
  white-space: nowrap;
}

.btn-primary {
  background: var(--yellow);
  color: var(--brown);
  box-shadow: 0 8px 18px rgba(0,0,0,0.25);
}

.btn-outline {
  background: transparent;
  color: #fff;
  border: 1px solid #fff;
}

/* QUESTIONNAIRE SECTION ‚Äî GREEN ‚Üí TEAL GRADIENT */
#pet-concierge {
  padding: 2rem;
  margin-top: 2rem;
  background: linear-gradient(to bottom, var(--green), var(--teal));
  color: white;
  border-radius: 1rem;
}

#pet-concierge h2 {
  color: white;
  margin-bottom: 1rem;
}

#pet-concierge form label {
  display: block;
  margin: 0.7rem 0;
}

#pet-concierge input,
#pet-concierge select,
#pet-concierge textarea {
  width: 100%;
  padding: 0.6rem;
  border-radius: 0.4rem;
  border: none;
  margin-top: 0.3rem;
}

#pet-concierge button {
  background: var(--yellow);
  color: var(--brown);
  padding: 0.8rem 1.4rem;
  border-radius: 0.5rem;
  border: none;
  cursor: pointer;
  margin-top: 1rem;
}

#results {
  background: white;
  color: var(--text);
  padding: 1rem;
  border-radius: 0.7rem;
  margin-top: 1.5rem;
}
</style>
</head>

<body>

<header>
  <div class="logo">
    <div class="logo-icon"></div>
    <div class="logo-text-main">Snuggle & Stroll</div>
  </div>
 <nav>
  <a href="#contact">Contact</a>
  <a href="#about">About</a>
  <a href="schedule.html">Scheduling</a>
  <a href="#pricing">Pricing</a>
  <a href="mypet.html" id="myPetNav" style="display:none;">My Pet</a>
</nav>
  
</header>

<section class="hero">
  <video src="videoofdog.mp4" autoplay muted loop playsinline></video>
  <div class="hero-overlay">
    <div class="hero-title">Snuggle & Stroll</div>
    <div class="hero-subtitle">
      In-home pet sitting and dog walking that feels like a trusted friend‚Äînot a kennel.
    </div>
    <div class="hero-buttons">
      <a href="schedule.html" class="btn btn-primary">Book a visit</a>
      <a href="#pricing" class="btn btn-outline">View pricing</a>
      <a href="about.html" class="btn btn-outline">Learn about the project</a>
    </div>
  </div>
</section>

<!-- ‚≠ê QUESTIONNAIRE SECTION (B1 placement) -->
<section id="pet-concierge">
  <h2>Pet Care Questionnaire</h2>
    <div style="display:flex; align-items:center; gap:0.75rem; margin-bottom:0.75rem;">
    <div style="font-size:1.4rem;">üê∂ üê± üêæ</div>
    <p style="margin:0; font-size:0.9rem;">
      Answer a few quick questions to build your pet‚Äôs profile and get sitter recommendations.
    </p>
  </div>

  <!-- Progress bar -->
  <div id="pet-progress" style="width:100%; background:rgba(255,255,255,0.25); border-radius:999px; overflow:hidden; height:10px; margin-bottom:1rem;">
    <div id="pet-progress-bar" style="width:0%; height:100%; background:#f7d87c; transition:width 0.3s ease;"></div>
  </div>

  <p>Not sure what your pet needs? Fill this out and we'll suggest a daily routine and sitter match.</p>

  <form id="pet-form">

    <h3>Pet Basics</h3>
    <label>Pet name:
      <input type="text" name="name" required>
    </label>

    <label>Species:
      <select name="species">
        <option value="dog">Dog</option>
        <option value="cat">Cat</option>
        <option value="other">Other</option>
      </select>
    </label>

    <label>Breed:
      <input type="text" name="breed" placeholder="e.g., Dachshund">
    </label>

    <label>Age (years):
      <input type="number" name="age" min="0" step="0.5">
    </label>

    <label>Weight (lbs):
      <input type="number" name="weight" min="0">
    </label>

    <h3>Temperament & Behavior</h3>
    <label>Energy level:
      <select name="energy">
        <option value="low">Low</option>
        <option value="medium">Medium</option>
        <option value="high">High</option>
      </select>
    </label>

    <label>Temperament (describe):
      <textarea name="temperament" rows="3" placeholder="Anxious, shy, friendly, reactive..."></textarea>
    </label>

    <h3>Health & Special Needs</h3>
    <label>Medical conditions:
      <textarea name="medical" rows="2"></textarea>
    </label>

    <label>Medications:
      <textarea name="medications" rows="2"></textarea>
    </label>

    <h3>Daily Routine</h3>
    <label>Number of walks per day:
      <input type="number" name="walks_per_day" min="0" max="6">
    </label>

    <label>Typical walk length:
      <select name="walk_length">
        <option>15 minutes</option>
        <option>30 minutes</option>
        <option>45 minutes</option>
        <option>60+ minutes</option>
      </select>
    </label>

    <label>Alone time tolerance:
      <select name="alone_time">
        <option>0‚Äì1 hour</option>
        <option>1‚Äì3 hours</option>
        <option>3‚Äì6 hours</option>
        <option>6+ hours</option>
      </select>
    </label>

    <h3>Home & Preferences</h3>
    <label>Home type:
      <select name="home_type">
        <option>Apartment</option>
        <option>House (no yard)</option>
        <option>House with yard</option>
      </select>
    </label>

    <label>ZIP code:
      <input type="text" name="zip">
    </label>

    <label>Service needed:
      <select name="service_type">
        <option>Walks</option>
        <option>Drop-in visits</option>
        <option>Overnights</option>
        <option>Daycare</option>
        <option>Boarding</option>
      </select>
    </label>

    <button type="submit">Generate care plan & sitter match</button>
  </form>

  <div id="results" style="display:none;">
    <h3>Your Personalized Care Plan</h3>
    <div id="care-plan"></div>

    <h3>Your Sitter Match</h3>
    <div id="sitter-match"></div>
  </div>
</section>
<!-- ‚≠ê PRICING SECTION -->
<section id="pricing">
  <h2>Pricing</h2>
  <div class="section-card">
    <div class="pricing-grid">

      <div class="card">
        <h3>Quick Walk</h3>
        <p class="price">$22 / walk</p>
        <p class="muted">30-minute neighborhood walk</p>
      </div>

      <div class="card">
        <h3>Standard Sit Visit</h3>
        <p class="price">$38 / visit</p>
        <p class="muted">45-minute in-home visit</p>
      </div>

      <div class="card">
        <h3>Extended Stay</h3>
        <p class="price">$95 / night</p>
        <p class="muted">Overnight in-home care</p>
      </div>

      <div class="card">
        <h3>Multi-Pet Add-On</h3>
        <p class="price">+ $8 / extra pet</p>
        <p class="muted">Applied to any service</p>
      </div>

    </div>
  </div>
</section>

<!-- ‚≠ê BUTTON UNDER PRICING -->
<div style="text-align:center; margin-top: 1.5rem;">
  <a href="#pet-concierge"
     style="background:#1fa7a1; padding:0.8rem 1.5rem; color:white;
            border-radius:6px; text-decoration:none; font-size:1rem;">
    Not sure what service to choose? Try our Pet Care Questionnaire!
  </a>
</div>

<!-- ‚≠ê SCHEDULING SECTION -->
<section id="schedule">
  <h2>Scheduling</h2>

  <div class="section-card two-col">
    <div>
      <p>
        Ready to book? Choose a time that works for you and we'll match you with a trusted
        sitter from our network of experienced pet lovers.
      </p>
      <a href="schedule.html" class="btn btn-primary">Open full scheduling page</a>
    </div>

    <div>
      <p><strong>Typical availability:</strong></p>
      <ul>
        <li>Morning walks: 7:00 AM ‚Äì 10:00 AM</li>
        <li>Midday visits: 11:00 AM ‚Äì 3:00 PM</li>
        <li>Evening walks: 5:00 PM ‚Äì 8:00 PM</li>
        <li>Overnights: 7:00 PM ‚Äì 7:00 AM</li>
      </ul>
    </div>
  </div>
</section>

<!-- ‚≠ê BUTTON UNDER SCHEDULING -->
<div style="text-align:center; margin-top: 1.5rem;">
  <a href="#pet-concierge"
     style="background:#3f6b4a; padding:0.8rem 1.5rem; color:white;
            border-radius:6px; text-decoration:none; font-size:1rem;">
    Not sure what your pet needs? Try our Pet Care Questionnaire!
  </a>
</div>
<!-- ‚≠ê ABOUT SECTION -->
<section id="about">
  <h2>About Snuggle & Stroll</h2>
  <div class="section-card two-col">
    <div>
      <p>
        I started Snuggle & Stroll because I have a dog I absolutely adore‚Äîand I couldn't
        imagine leaving her in a kennel. The noise, the stress, the unfamiliar environment‚Ä¶
        it just never felt right.
      </p>

      <p>
        So I built the service I wished existed: in-home, heart-led pet care from people who
        treat your animals like their own. Today, Snuggle & Stroll works with a vetted network
        of <strong>500+ skilled dog owners and pet sitters</strong> who understand routines,
        body language, and the little details that make your pet feel safe.
      </p>
    </div>

    <div>
      <ul>
        <li><strong>Fully insured sitters</strong></li>
        <li><strong>Background-checked</strong></li>
        <li><strong>Real-time updates</strong></li>
        <li><strong>Custom care plans</strong></li>
      </ul>
    </div>
  </div>
</section>

<!-- ‚≠ê TESTIMONIALS -->
<section class="testimonials">
  <div class="section-card" style="background: transparent; box-shadow: none; color: #fff;">
    <h2 style="color:#fff;">What our clients say</h2>

    <div class="testimonials-inner">
      <div class="testimonial">
        "Snuggle & Stroll is the first service where my dog actually runs to the door when
        the sitter arrives."
        <strong>- Jamie, Goldendoodle mom</strong>
      </div>

      <div class="testimonial">
        "Daily photos, detailed notes, and a calm, happy pup when we got home. It felt like
        leaving her with family."
        <strong>- Marcus, rescue owner</strong>
      </div>

      <div class="testimonial">
        "Our senior dog needs meds and a strict routine. They nailed every detail and kept us
        fully in the loop."
        <strong>- Priya, senior pup parent</strong>
      </div>
    </div>
  </div>
</section>

<!-- ‚≠ê AVAILABILITY CALENDAR -->
<section id="availability">
  <h2>Check Availability</h2>
  <div class="section-card">
    <p>Select a date to see available sitters and time slots.</p>

    <div class="calendar-container">
      <input type="date" id="calendarDate" />
      <div id="availabilityResults" class="availability-results">
        <p class="muted">Choose a date to view sitter availability.</p>
      </div>
    </div>
  </div>
</section>

<section id="xfactor" style="padding: 1.5rem 8vw; text-align:center; font-size:0.9rem; color:#555;">
  <p>
    This interactive calendar previews how a real booking system could work‚Äîshowing sitter
    availability, time slots, and fictional staff to demonstrate future functionality.
  </p>
</section>

<!-- ‚≠ê QUICK SCHEDULING FORM -->
<section id="quick-schedule">
  <h2>Quick Scheduling Form</h2>
  <div class="section-card">
    <form id="quickScheduleForm">

      <label for="qs-date">Choose a date</label>
      <input type="date" id="qs-date" required />

      <label for="qs-time">Choose a time</label>
      <select id="qs-time" required>
        <option value="">Select a time</option>
        <option>7:00 AM</option>
        <option>8:00 AM</option>
        <option>10:00 AM</option>
        <option>12:00 PM</option>
        <option>2:00 PM</option>
        <option>4:00 PM</option>
        <option>6:00 PM</option>
      </select>

      <label for="qs-sitter">Choose a sitter</label>
      <select id="qs-sitter" required>
        <option value="">Select a sitter</option>
        <option>Maya Thompson</option>
        <option>Jordan Lee</option>
        <option>Riley Chen</option>
        <option>Samira Patel</option>
        <option>Dylan Brooks</option>
      </select>

      <label for="qs-notes">Notes</label>
      <textarea id="qs-notes" placeholder="Anything we should know?"></textarea>

      <button type="submit" class="btn btn-primary">Submit Request</button>

      <div id="qs-confirm"
           style="display:none; margin-top: 1rem; padding: 1rem;
                  background:#e8f7f6; border-left:4px solid var(--teal);
                  border-radius:0.5rem; color:var(--green); font-weight:600;">
        Your request has been submitted! We'll reach out shortly.
      </div>

    </form>
  </div>
</section>

<!-- ‚≠ê CONTACT SECTION -->
<section id="contact">
  <h2>Contact</h2>
  <div class="section-card two-col">

    <form action="mailto:youremail@example.com" method="post" enctype="text/plain">
      <label for="name">Name</label>
      <input id="name" name="name" type="text" required />

      <label for="email">Email</label>
      <input id="email" name="email" type="email" required />

      <label for="message">How can we help?</label>
      <textarea id="message" name="message" required></textarea>

      <button type="submit" class="btn btn-primary">Send message</button>
    </form>

    <div>
      <p><strong>Email:</strong> youremail@example.com</p>
      <p><strong>Service area:</strong> Your city / neighborhoods</p>
      <p class="muted">
        We typically respond within one business day. For urgent same-day requests, please
        mention "urgent" in your subject line.
      </p>
    </div>

  </div>
</section>

</main>

<!-- ‚≠ê FOOTER -->
<footer>
  &copy; <span id="year"></span> Snuggle & Stroll. All rights reserved.
</footer>

<!-- ‚≠ê CHATBOT -->
<button class="chatbot-toggle" id="chatbotToggle">Chat with us</button>

<div class="chatbot-window" id="chatbotWindow">
  <div class="chatbot-header">
    <span>SnuggleBot</span>
    <button style="background:none;border:none;color:#fff;font-size:1rem;cursor:pointer;"
            id="chatbotClose">x</button>
  </div>

  <div class="chatbot-body" id="chatbotBody">
    <div class="msg bot"><span>Hi! I'm SnuggleBot. Ask me about pricing, scheduling, or what our sitters do.</span></div>
  </div>

  <div class="chatbot-input">
    <input type="text" id="chatbotInput" placeholder="Type a message..." />
    <button id="chatbotSend">Send</button>
  </div>
</div>
<script>
// YEAR IN FOOTER
document.getElementById('year').textContent = new Date().getFullYear();

/* ------------------------------
   AVAILABILITY CALENDAR LOGIC
------------------------------ */
const sitterData = {
  "2026-02-16": [
    { name: "Maya Thompson", times: "8 AM, 11 AM, 3 PM" },
    { name: "Jordan Lee", times: "10 AM, 1 PM, 6 PM" }
  ],
  "2026-02-17": [
    { name: "Riley Chen", times: "9 AM, 12 PM, 4 PM" },
    { name: "Samira Patel", times: "7 AM, 2 PM, 5 PM" }
  ],
  "2026-02-18": [
    { name: "Dylan Brooks", times: "8 AM, 12 PM, 7 PM" }
  ]
};

const calendarInput = document.getElementById("calendarDate");
const resultsBox = document.getElementById("availabilityResults");

calendarInput.addEventListener("change", () => {
  const date = calendarInput.value;

  if (!sitterData[date]) {
    resultsBox.innerHTML = `<p class="muted">No sitters available on this date.</p>`;
    return;
  }

  const sitters = sitterData[date]
    .map(s => `
      <div class="sitter">
        <div class="sitter-name">${s.name}</div>
        <div class="time-slots">Available times: ${s.times}</div>
      </div>
    `)
    .join("");

  resultsBox.innerHTML = sitters;
});

/* ------------------------------
   CHATBOT LOGIC
------------------------------ */
const toggle = document.getElementById('chatbotToggle');
const windowEl = document.getElementById('chatbotWindow');
const closeBtn = document.getElementById('chatbotClose');
const bodyEl = document.getElementById('chatbotBody');
const inputEl = document.getElementById('chatbotInput');
const sendBtn = document.getElementById('chatbotSend');

function addMessage(text, from) {
  const div = document.createElement('div');
  div.className = 'msg ' + from;
  const span = document.createElement('span');
  span.textContent = text;
  div.appendChild(span);
  bodyEl.appendChild(div);
  bodyEl.scrollTop = bodyEl.scrollHeight;
}

function botReply(userText) {
  const t = userText.toLowerCase();

  if (t.includes('price') || t.includes('cost')) {
    return 'Our walks start at $22, sit visits at $38, and overnights at $95 per night.';
  }
  if (t.includes('schedule') || t.includes('book')) {
    return 'You can schedule visits most days between 7 AM and 8 PM, plus overnight stays.';
  }
  if (t.includes('where') || t.includes('area') || t.includes('location')) {
    return 'We currently serve your local area‚Äîreach out via the contact form to confirm your neighborhood.';
  }
  if (t.includes('kennel') || t.includes('home')) {
    return 'We specialize in in-home care so your pet can stay relaxed in their own space.';
  }

  return 'Great question! A human from Snuggle & Stroll will follow up by email if you leave your details in the contact form.';
}

toggle.addEventListener('click', () => {
  windowEl.style.display = windowEl.style.display === 'flex' ? 'none' : 'flex';
});

closeBtn.addEventListener('click', () => {
  windowEl.style.display = 'none';
});

function handleSend() {
  const text = inputEl.value.trim();
  if (!text) return;

  addMessage(text, 'user');
  inputEl.value = "";

  setTimeout(() => {
    addMessage(botReply(text), 'bot');
  }, 400);
}

sendBtn.addEventListener('click', handleSend);

inputEl.addEventListener('keydown', (e) => {
  if (e.key === 'Enter') {
    e.preventDefault();
    handleSend();
  }
});

/* ------------------------------
   QUICK SCHEDULING FORM
------------------------------ */
document.getElementById("quickScheduleForm").addEventListener("submit", function(e) {
  e.preventDefault();
  document.getElementById("qs-confirm").style.display = "block";
});

/* ------------------------------
   QUESTIONNAIRE LOGIC
------------------------------ */
async function loadCareGuides() {
  try {
    const response = await fetch('data/care_guides.json');
    return await response.json();
  } catch (e) {
    console.error("Error loading care guides:", e);
    return [];
  }
}

function pickRelevantGuides(careGuides, pet) {
  const species = (pet.species || "").toLowerCase();
  const breed = (pet.breed || "").toLowerCase();
  const temperament = (pet.temperament || "").toLowerCase();
  const energy = (pet.energy || "").toLowerCase();

  return careGuides.filter(g => {
    if (g.species && g.species !== species) return false;
    if (g.breed && breed.includes(g.breed)) return true;
    if (energy === "high" && g.tags && g.tags.includes("high_energy")) return true;
    if (temperament.includes("anxious") && g.tags && g.tags.includes("anxious")) return true;
    return g.tags && (g.tags.includes("daily") || g.tags.includes("routine"));
  });
}

function buildCarePlanHtml(pet, guides) {
  let html = `
    <p><strong>Overview for ${pet.name || "your pet"}:</strong> Based on your answers, here is a suggested daily and weekly routine.</p>

    <h3>Daily Routine</h3>
    <ul>
      <li>Feed on a consistent schedule (morning & evening).</li>
      <li>${pet.walks_per_day || 1} walk(s) per day, around ${pet.walk_length || "30 minutes"} each.</li>
      <li>At least one mental enrichment session daily (sniff walk, puzzle toy, training).</li>
    </ul>

    <h3>Weekly Focus</h3>
    <ul>
      <li>Grooming or brushing based on coat type.</li>
      <li>1‚Äì2 special enrichment activities (new walking route, scent game).</li>
    </ul>
  `;

  if (guides.length > 0) {
    html += `<h3>Special Considerations</h3>`;
    guides.forEach(g => {
      html += `<h4>${g.title}</h4><p>${g.content}</p>`;
    });
  }

  html += `<p><em>This is general care guidance, not medical advice.</em></p>`;
  return html;
}

// Simple sitter matching based on energy, temperament, and service
function buildSitterMatchHtml(pet) {
  const energy = (pet.energy || "").toLowerCase();
  const temperament = (pet.temperament || "").toLowerCase();
  const service = (pet.service_type || "").toLowerCase();

  let sitterName = "Jordan Lee";
  let sitterBio = "Calm, experienced sitter comfortable with a wide range of dogs and cats.";
  let specialties = "General pet care, routine walks, and in-home visits.";

 if (energy === "high") {
  sitterName = "Maya Thompson";
  sitterBio = "High-energy dog walker who loves long, structured walks and enrichment games.";
  specialties = "High-energy dogs, structured walks, and mental enrichment.";

} else if (temperament.includes("anxious")) {
  sitterName = "Samira Patel";
  sitterBio = "Gentle, patient sitter who specializes in anxious and sensitive pets.";
  specialties = "Anxious dogs, slow introductions, and predictable routines.";

} else if (temperament.includes("shy")) {
  sitterName = "Jordan Lee";
  sitterBio = "Soft-spoken sitter who takes things at your pet‚Äôs pace.";
  specialties = "Shy dogs, slow warm-ups, and low-stress visits.";

} else if (service.includes("overnight")) {
  sitterName = "Riley Chen";
  sitterBio = "Overnight specialist who keeps your pet‚Äôs routine consistent while you‚Äôre away.";
  specialties = "Overnight stays, medication reminders, and detailed updates.";
}


  return `
    <div style="background:#f0f8ff; padding:1rem; border-radius:6px; display:flex; gap:0.75rem; align-items:flex-start;">
      <div style="font-size:2rem;">üßë‚Äçü¶∞</div>
      <div>
        <h4>${sitterName}</h4>
        <p>${sitterBio}</p>
        <p><strong>Specialties:</strong> ${specialties}</p>
      </div>
    </div>
  `;
}

// Progress bar logic
const petForm = document.getElementById('pet-form');
const progressBar = document.getElementById('pet-progress-bar');
const myPetNav = document.getElementById('myPetNav');

const progressFields = Array.from(petForm.querySelectorAll('input, select, textarea'));

function updateProgress() {
  const filled = progressFields.filter(f => (f.value || "").trim() !== "").length;
  const total = progressFields.length;
  const percent = Math.round((filled / total) * 100);
  progressBar.style.width = `${percent}%`;
}

progressFields.forEach(field => {
  field.addEventListener('input', updateProgress);
  field.addEventListener('change', updateProgress);
});

document.getElementById('pet-form').addEventListener('submit', async function (e) {
  e.preventDefault();

  const formData = new FormData(e.target);
  const pet = Object.fromEntries(formData.entries());

  const guides = await loadCareGuides();
  const relevant = pickRelevantGuides(guides, pet);

  const carePlanHtml = buildCarePlanHtml(pet, relevant);
  const sitterHtml = buildSitterMatchHtml(pet);

  document.getElementById('care-plan').innerHTML = carePlanHtml;
  document.getElementById('sitter-match').innerHTML = sitterHtml;
  document.getElementById('results').style.display = 'block';

  // Save to localStorage for My Pet page
  const profile = {
    pet,
    carePlanHtml,
    sitterHtml,
    createdAt: new Date().toISOString()
  };
  localStorage.setItem('snugglePetProfile', JSON.stringify(profile));

  // Reveal "My Pet" nav tab
  if (myPetNav) {
    myPetNav.style.display = 'inline-block';
  }

  // Fill progress bar to 100%
  progressBar.style.width = '100%';
});

</script>
</body>
</html>
